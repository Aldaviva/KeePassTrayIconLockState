<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProjectGuid>{F190E2D7-A3FE-4DE8-8CB0-339F41C4F599}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>Test.Elevated</RootNamespace>
    <AssemblyName>Test.Elevated</AssemblyName>
    <TargetFrameworkVersion>v4.8</TargetFrameworkVersion>
    <FileAlignment>512</FileAlignment>
    <Deterministic>true</Deterministic>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <LangVersion>latest</LangVersion>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <LangVersion>latest</LangVersion>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="System.Core" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.Windows.Forms" />
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System.Xml" />
    <Reference Include="Telerik.JustMock, Version=2022.1.223.1, Culture=neutral, PublicKeyToken=721b6c5bc0326b3a, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>Vendor\JustMock\Telerik.JustMock.dll</HintPath>
    </Reference>
  </ItemGroup>
  <Choose>
    <When Condition="'$(GITHUB_ACTIONS)' == 'true'">
      <ItemGroup>
        <!-- In GitHub Actions CI, KeePass is installed by Chocolatey to the default installation directory -->
        <!-- The "KeePass" NuGet package is unfortunately unusable because it's not an official build with the same strong signing key, so this project's DLL won't be able to refer to KeePass at runtime -->
        <Reference Include="KeePass">
          <HintPath>C:\Program Files\KeePass Password Safe 2\KeePass.exe</HintPath>
          <Private>True</Private>
        </Reference>
      </ItemGroup>
    </When>
    <Otherwise>
      <ItemGroup>
        <!-- During development, use the KeePass installation directory on the development machine -->
        <Reference Include="KeePass">
          <HintPath>..\..\..\..\..\..\Programs\Security\KeePass\KeePass.exe</HintPath>
          <Private>True</Private>
        </Reference>
      </ItemGroup>
    </Otherwise>
  </Choose>
  <ItemGroup>
    <Compile Include="KeePassTrayIconLockStateExtElevatedTest.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\KeePassTrayIconLockState\KeePassTrayIconLockState.csproj">
      <Project>{e980abdc-e56d-4e9c-a322-afbe9d9092b4}</Project>
      <Name>KeePassTrayIconLockState</Name>
    </ProjectReference>
    <ProjectReference Include="..\Test\Test.csproj">
      <Project>{7a2aa320-04b9-4a1f-88ba-225849ccee5a}</Project>
      <Name>Test</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="xunit">
      <Version>2.5.0</Version>
    </PackageReference>
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
</Project>